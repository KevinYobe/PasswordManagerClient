<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="dashboard/head :: head" />
<body>
	<div class="container-fluid">
		<div class="row">
			<div th:replace="dashboard/navbar :: header" /></div>
			<div th:replace="dashboard/sidebar :: aside" /></div>
			<main
				class="col-md-9 ms-sm-auto col-lg-10 px-md-4 justify-content-center">
				<div class="card shadow">
					<div class="card-header">
						<h4>Users</h4>
					</div>
					<div class="card-body">
						<table class="table table-striped">
							<thead>
								<tr>

									<th scope="col">First Name</th>
									<th scope="col">Last Name</th>
									<th scope="col">Created</th>
									<th scope="col">Updated</th>
									<th scope="col">Email</th>

								</tr>
							</thead>
							<tbody>
								<tr th:each="user: ${users}" data-editable="true">
									<td th:text="${user.firstName}" />
									<td th:text="${user.surname}" />
									<td th:text="${user.created}" />
									<td th:text="${user.updated}" />
									<td th:text="${user.email}" />
									<td>
										<div class="col-sm-4">
											<p class="text-left">
												<a th:href="@{/removeuser/{id}(id = ${user.id})}"
													class="btn btn-md btn-primary" role="button">Remove</a>
											</p>
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<!-- Button trigger modal -->
				<button type="button" class="btn btn-primary" data-toggle="modal"
					data-target="#exampleModal">Add User</button>

				<div class="modal fade" id="exampleModal" tabindex="-1"
					role="dialog" aria-labelledby="exampleModalLabel"
					aria-hidden="true">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="exampleModalLabel">Add User</h5>
								<button type="button" class="close" data-dismiss="modal"
									aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
							</div>
							<div class="modal-body">
								<form action="row g-3" th:object="${user}"
									th:action="@{/adduser}" method="post">
									<div class="form-group">
										<input type="text" class="form-control"
											id="validationServer01" th:field="*{firstName}"
											placeholder="Name" required>

									</div>
									<div class="form-group">
										<input type="text" class="form-control"
											id="validationServer01" th:field="*{surname}"
											placeholder="LastName" required>
									</div>
									<div class="form-group">
										<input type="email" class="form-control"
											id="validationServer01" th:field="*{email}"
											placeholder="Email" required>
									</div>

									<div class="form-group">
										<button class="btn btn-primary form-control" type="submit">Add
											User</button>
									</div>
								</form>
							</div>
						</div>

					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary form-control"
							data-dismiss="modal">Close</button>
					</div>
				</div>
			</main>
		</div>
	</div>
	<script th:src="@{https://code.jquery.com/jquery-3.2.1.slim.min.js}"
		integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
		crossorigin="anonymous"></script>
	<script
		th:src="@{https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js}"
		integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
		crossorigin="anonymous"></script>
	<script
		th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js}"
		integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF"
		crossorigin="anonymous"></script>
</body>
</html>